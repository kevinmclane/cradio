# ===== Bluetooth Power & Reliability =====
# Max TX power for reliable host connection (+8dBm)
# Trades ~10-20% battery life for connection stability
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Disable 2M PHY - critical for preventing random disconnects
# 1M PHY has better range and stability despite lower throughput
CONFIG_BT_CTLR_PHY_2M=n

# Connection parameters - aggressive settings for reliability
# 7.5ms min interval
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
# 15ms max interval
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12
# Allow 30 missed events before disconnect
CONFIG_BT_PERIPHERAL_PREF_LATENCY=30
# 4 second timeout
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# Experimental connection improvements
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# ===== Battery Reporting =====
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# ===== Power Management =====
CONFIG_ZMK_SLEEP=y
# 30 minutes idle before sleep
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000

# ===== Debouncing =====
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# ===== Pointing Device =====
CONFIG_ZMK_POINTING=y

# ===== ZMK Studio =====
# Enable live keymap editing via web interface
CONFIG_ZMK_STUDIO=y

# ===== System =====
# CONFIG_ZMK_KEYBOARD_NAME='Ferris Sweep'
